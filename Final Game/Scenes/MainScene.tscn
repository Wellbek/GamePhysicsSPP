[gd_scene load_steps=13 format=2]

[ext_resource path="res://Instances/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Instances/Spawner.tscn" type="PackedScene" id=2]
[ext_resource path="res://WaveManager.tscn" type="PackedScene" id=3]
[ext_resource path="res://GUI/GUI.tscn" type="PackedScene" id=4]
[ext_resource path="res://Instances/Core.tscn" type="PackedScene" id=5]
[ext_resource path="res://Instances/Environment/BuildingBlock.tscn" type="PackedScene" id=6]

[sub_resource type="NavigationMesh" id=6]
vertices = PoolVector3Array( -26.069, 0.9, 63.6097, -20.369, 0.9, 65.4097, -14.369, 0.9, 67.2097, 7.23099, 0.9, 68.4097, 13.231, 0.9, 67.5097, 19.231, 0.9, 65.7097, 44.431, 0.9, -52.1903, 39.631, 0.9, -56.0903, 34.231, 0.9, -59.3903, 28.531, 0.9, -62.3903, -14.369, 0.9, 67.2097, -8.36901, 0.9, 68.1097, -1.76901, 0.9, 68.7097, -63.269, 0.9, -25.7903, -65.669, 0.9, -19.4903, -67.169, 0.9, -13.4903, -68.369, 0.9, -3.8903, 19.231, 0.9, 65.7097, 25.531, 0.9, 63.9097, 31.231, 0.9, 60.9097, 53.431, 0.9, -42.8903, 49.231, 0.9, -47.9903, 44.431, 0.9, -52.1903, 65.731, 0.9, -19.7903, 63.631, 0.9, -26.0903, 60.631, 0.9, -31.7903, -13.469, 0.9, -66.8903, -19.469, 0.9, -65.6903, -26.069, 0.9, -63.2903, 68.431, 0.9, -6.8903, 67.531, 0.9, -12.8903, 65.731, 0.9, -19.7903, 68.731, 0.9, 2.1097, -38.069, 0.9, -56.6903, -43.769, 0.9, -52.7903, -48.269, 0.9, -48.2903, 60.631, 0.9, -31.7903, 57.631, 0.9, -37.4903, 53.431, 0.9, -42.8903, -67.469, 0.9, 12.0097, -65.969, 0.9, 18.6097, -63.869, 0.9, 24.9097, -48.269, 0.9, -48.2903, -52.769, 0.9, -43.7903, -56.969, 0.9, -38.0903, -38.069, 0.9, -56.6903, -57.269, 0.9, 37.8097, -53.369, 0.9, 43.2097, -48.869, 0.9, 48.3097, -48.869, 0.9, 48.3097, -43.769, 0.9, 52.8097, -38.369, 0.9, 57.0097, -26.069, 0.9, -63.2903, -32.069, 0.9, -60.5903, -38.069, 0.9, -56.6903, -56.969, 0.9, -38.0903, -60.569, 0.9, -32.0903, -63.269, 0.9, -25.7903, 60.031, 0.9, 33.0097, 63.331, 0.9, 27.0097, 65.731, 0.9, 20.4097, -38.369, 0.9, 57.0097, -32.369, 0.9, 60.3097, -26.069, 0.9, 63.6097, -63.869, 0.9, 24.9097, -60.869, 0.9, 31.5097, -57.269, 0.9, 37.8097, 28.531, 0.9, -62.3903, 19.831, 0.9, -65.6903, 13.831, 0.9, -67.1903, 3.93098, 0.9, -68.3903, 51.331, 0.9, 45.9097, 56.731, 0.9, 39.0097, 60.031, 0.9, 33.0097, -68.369, 0.9, -3.8903, -68.369, 0.9, 3.9097, -67.469, 0.9, 12.0097, 3.93098, 0.9, -68.3903, -7.46902, 0.9, -68.0903, -13.469, 0.9, -66.8903, 31.231, 0.9, 60.9097, 37.231, 0.9, 57.9097, 45.931, 0.9, 51.3097, -1.76901, 0.9, 68.7097, 7.23099, 0.9, 68.4097, 19.231, 0.9, 65.7097, 65.731, 0.9, 20.4097, 67.531, 0.9, 13.2097, 68.731, 0.9, 2.1097, 45.931, 0.9, 51.3097, 51.331, 0.9, 45.9097, 60.031, 0.9, 33.0097, -26.069, 0.9, 63.6097, -14.369, 0.9, 67.2097, -1.76901, 0.9, 68.7097, -57.269, 0.9, 37.8097, -48.869, 0.9, 48.3097, -38.369, 0.9, 57.0097, -1.76901, 0.9, 68.7097, 45.931, 0.9, 51.3097, 68.731, 0.9, 2.1097, 28.531, 0.9, -62.3903, -56.969, 0.9, -38.0903, -57.269, 0.9, 37.8097, 60.631, 0.9, -31.7903, 53.431, 0.9, -42.8903, 44.431, 0.9, -52.1903, 28.531, 0.9, -62.3903, 68.731, 0.9, 2.1097, 65.731, 0.9, -19.7903, -13.469, 0.9, -66.8903, -26.069, 0.9, -63.2903, -38.069, 0.9, -56.6903, -56.969, 0.9, -38.0903, 28.531, 0.9, -62.3903, 3.93098, 0.9, -68.3903, -67.469, 0.9, 12.0097, -63.869, 0.9, 24.9097, -57.269, 0.9, 37.8097, -56.969, 0.9, -38.0903, -63.269, 0.9, -25.7903, -68.369, 0.9, -3.8903 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 5, 4, 3 ), PoolIntArray( 9, 8, 6 ), PoolIntArray( 6, 8, 7 ), PoolIntArray( 12, 11, 10 ), PoolIntArray( 16, 15, 13 ), PoolIntArray( 13, 15, 14 ), PoolIntArray( 19, 18, 17 ), PoolIntArray( 22, 21, 20 ), PoolIntArray( 25, 24, 23 ), PoolIntArray( 28, 27, 26 ), PoolIntArray( 32, 31, 29 ), PoolIntArray( 29, 31, 30 ), PoolIntArray( 35, 34, 33 ), PoolIntArray( 38, 37, 36 ), PoolIntArray( 41, 40, 39 ), PoolIntArray( 45, 44, 42 ), PoolIntArray( 42, 44, 43 ), PoolIntArray( 48, 47, 46 ), PoolIntArray( 51, 50, 49 ), PoolIntArray( 54, 53, 52 ), PoolIntArray( 57, 56, 55 ), PoolIntArray( 60, 59, 58 ), PoolIntArray( 63, 62, 61 ), PoolIntArray( 66, 65, 64 ), PoolIntArray( 70, 69, 67 ), PoolIntArray( 67, 69, 68 ), PoolIntArray( 73, 72, 71 ), PoolIntArray( 76, 75, 74 ), PoolIntArray( 79, 78, 77 ), PoolIntArray( 85, 84, 80 ), PoolIntArray( 80, 84, 81 ), PoolIntArray( 81, 84, 83 ), PoolIntArray( 81, 83, 82 ), PoolIntArray( 91, 90, 86 ), PoolIntArray( 86, 90, 87 ), PoolIntArray( 87, 90, 89 ), PoolIntArray( 87, 89, 88 ), PoolIntArray( 97, 96, 92 ), PoolIntArray( 92, 96, 93 ), PoolIntArray( 93, 96, 94 ), PoolIntArray( 94, 96, 95 ), PoolIntArray( 103, 102, 98 ), PoolIntArray( 98, 102, 99 ), PoolIntArray( 99, 102, 100 ), PoolIntArray( 100, 102, 101 ), PoolIntArray( 109, 108, 104 ), PoolIntArray( 104, 108, 105 ), PoolIntArray( 105, 108, 106 ), PoolIntArray( 106, 108, 107 ), PoolIntArray( 115, 114, 110 ), PoolIntArray( 110, 114, 111 ), PoolIntArray( 111, 114, 112 ), PoolIntArray( 112, 114, 113 ), PoolIntArray( 121, 120, 116 ), PoolIntArray( 116, 120, 117 ), PoolIntArray( 117, 120, 119 ), PoolIntArray( 117, 119, 118 ) ]

[sub_resource type="CylinderMesh" id=1]
top_radius = 69.0
bottom_radius = 70.0
height = 1.0

[sub_resource type="OpenSimplexNoise" id=2]
octaves = 8
persistence = 0.8
lacunarity = 2.22

[sub_resource type="NoiseTexture" id=3]
seamless = true
noise = SubResource( 2 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.0196078, 0.701961, 0, 1 )
albedo_texture = SubResource( 3 )

[sub_resource type="CylinderShape" id=5]
radius = 70.0
height = 1.0

[node name="Spatial" type="Spatial"]

[node name="Terrain" type="Spatial" parent="."]

[node name="Navigation" type="Navigation" parent="Terrain"]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Terrain/Navigation"]
navmesh = SubResource( 6 )

[node name="Ground" type="RigidBody" parent="Terrain/Navigation/NavigationMeshInstance"]
collision_layer = 4
mode = 1

[node name="MeshInstance" type="MeshInstance" parent="Terrain/Navigation/NavigationMeshInstance/Ground"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.130981, 0, 0.109695 )
mesh = SubResource( 1 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Terrain/Navigation/NavigationMeshInstance/Ground"]
shape = SubResource( 5 )

[node name="Spawner" parent="Terrain/Navigation/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0 )
navigation = NodePath("../..")
radius = 60

[node name="Core" parent="Terrain" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0 )

[node name="Spatial" type="Spatial" parent="Terrain"]

[node name="BuildingBlock" parent="Terrain/Spatial" instance=ExtResource( 6 )]
transform = Transform( 1.68825, 0, 0, 0, 0.219661, 0, 0, 0, 1.70882, 8.793, 5.05812, 7.87458 )

[node name="BuildingBlock2" parent="Terrain/Spatial" instance=ExtResource( 6 )]
transform = Transform( 1.68825, 0, 0, 0, 0.219661, 0, 0, 0, 1.70882, 8.793, 7.55442, -0.463006 )

[node name="BuildingBlock3" parent="Terrain/Spatial" instance=ExtResource( 6 )]
transform = Transform( 1.68825, 0, 0, 0, 0.219661, 0, 0, 0, 1.70882, -0.092602, 9.71572, -0.0175095 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.88389, -3.00169 )

[node name="GUI" parent="." instance=ExtResource( 4 )]

[node name="WaveManager" parent="." instance=ExtResource( 3 )]
spawnerNodePaths = [ NodePath("../Terrain/Navigation/NavigationMeshInstance/Spawner") ]
